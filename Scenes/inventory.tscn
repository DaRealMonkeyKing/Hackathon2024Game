[gd_scene load_steps=3 format=3 uid="uid://ccda3jyw874uk"]

[ext_resource type="Script" path="res://Scripts/Slots.gd" id="1_gjj5e"]

[sub_resource type="GDScript" id="GDScript_b04sd"]
script/source = "@tool
extends HBoxContainer

const TEXTURES = [
	preload(\"res://Images/stick.png\"),
	preload(\"res://Images/healthpot.png\"),
	preload(\"res://Images/recycling_bin.png\"),
	preload(\"res://Images/lootdrops.png\")
]

var item_list : Array

# func _create_slot_texture_rect(is_selected):
# 	var img = Image.new()
# 	if (is_selected):
# 		img.load(\"res://Images/inventoryslotselected.png\")
# 	else:
# 		img.load(\"res://Images/inventoryslot.png\")
# 	var texture = ImageTexture.new().create_from_image(img)
# 	var texture_rect = TextureRect.new()
# 	texture_rect.texture = texture
# 	return texture_rect

func _add_item(id : int):
	var texture_rect = TextureRect.new()
	texture_rect.texture = TEXTURES[id]
	item_list.append(texture_rect)
	add_child(texture_rect)


# Called when the node enters the scene tree for the first time.
func _ready():
	# TODO: signal is not connected to the one in the other thing rn
	connect(\"picked_up_item\", _add_item)
	#for i in range(get_child_count()):
		#item_list.append(get_child(i))
	
	_add_item(0)
	_add_item(1)
	_add_item(0)


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta):
	#if Input.is_key_pressed(KEY_X):
		#remove_child(item_list[0])
	pass
"

[node name="Inventory" type="Node2D"]

[node name="Slots" type="HBoxContainer" parent="."]
offset_right = 40.0
offset_bottom = 40.0
script = ExtResource("1_gjj5e")

[node name="Items" type="HBoxContainer" parent="."]
offset_left = 2.0
offset_top = 3.0
offset_right = 510.0
offset_bottom = 93.0
script = SubResource("GDScript_b04sd")
